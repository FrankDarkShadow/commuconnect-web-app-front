<div class="container-fluid vh-100 d-flex p-0" *ngIf="tokenValido; else tokenInvalido">
  <!-- Columna izquierda con imagen -->
  <div class="col-md-6 p-0">
    <img
      src="assets/parejaCorriendo.jpg"
      class="img-fluid h-100 w-100"
      style="object-fit: cover;"
      alt="imagen"
    />
  </div>

  <!-- Columna derecha con formulario -->
  <div class="col-md-6 d-flex flex-column justify-content-center align-items-center bg-white position-relative">
    <div class="w-75" style="max-width: 400px;">
      <h2 class="text-center fw-bold mb-4">Ingresa tu nueva contraseña</h2>

      <form (ngSubmit)="cambiarPassword()" #form="ngForm">
        <!-- Nueva contraseña -->
        <div class="mb-3">
          <label class="form-label">Nueva contraseña</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
            <input
              type="password"
              class="form-control"
              [(ngModel)]="password"
              name="password"
              required
              minlength="8"
              placeholder="Nueva contraseña"
            />
          </div>
        </div>

        <!-- Confirmar contraseña -->
        <div class="mb-3">
          <label class="form-label">Confirmar contraseña</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
            <input
              type="password"
              class="form-control"
              [(ngModel)]="confirmPassword"
              name="confirmPassword"
              required
              placeholder="Confirmar contraseña"
            />
          </div>
        </div>

        <button
          type="submit"
          class="btn btn-primary w-100"
          [disabled]="form.invalid || password !== confirmPassword"
        >
          Cambiar Contraseña
        </button>
      </form>

      <div *ngIf="mensaje" class="alert alert-info text-center mt-3">
        {{ mensaje }}
      </div>
    </div>
  </div>
</div>

<!-- Si el token es inválido o expiró -->
<ng-template #tokenInvalido>
  <div class="d-flex justify-content-center align-items-center vh-100 bg-light text-center">
    <div>
      <h2 class="fw-bold">Este enlace ya expiró o no es válido.</h2>
    </div>
  </div>
</ng-template>
